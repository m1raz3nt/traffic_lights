# traffic_lights
Репозиторий тестового задания для ООО ИНИТИ

## Описание алгоритма

### Общие понятия и замечания
**1)** Я не так хорошо знаю ПДД, но предположу, что желтый сигнал автомобильного светофора - это сигнал на поворот для соответствующей линии транспорта.  
**2)** Светофоры можно представить в виде массива *[п, а, п, п, а, п ...]*, где п - пешеходный светофор, а - автомобильный светофор.
      Таким образом, задача сводится к тому, чтобы отдельно взятый светофор мог правильно оповестить своего соседа слева и справа (и, в случае автомобильных светофоров,
      оповестить тажке своего автомобильного "собрата" через M пешеходных светофоров слева, т.к. поворот автомобилей идет справа).  

### Логика работы светофора
  - Если светофор пешеходный:
    
    - Если сосед - пешеходный светофор - переключится через время t в другой сигнал:
      - Поставить сигнал на противоположный через время t
      - Если сигнал станет зеленым - снизить свою очередь на один
        
    - Если сосед - автомобильный светофор - перключится на желтый через время t:  
      - Поставить сигнал на противоположный через время t  
      - Если сигнал станет зеленым - снизит свою очередь на один
        
  - Если светофор автомобильный (его соседями могут быть только пешеходные светофоры):  
      
      - Если сосед переключится через время t в другой сигнал  

        - Поставить желтый на время t  
        - Снизить очередь у соответствующего автомобильного светофора (через два пешеходных слева) на 1  
        - Переключить сигнал на противоположный через время t  
        - Если сигнал станет зеленым - снизить свою очередь на один  

        
### Логика работы перекрестка  
      
- Найти сфетофор с наибольшей очередью
- Светофор с наибольшей очередью генерирует ивент на переключение через время t
- Этот светофор отсылает ивент соседям, в зависимости от своего типа
- Светофоры параллельно проверяют свою очередь ивентов и обрабатывают её
       
